(()=>{"use strict";var e={76:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.session=t.coords=t.rotation=t.lastVehicle=t.currentVehicle=t.numberPlate=t.type=t.populationType=t.causeOfDeath=t.modelHash=t.health=t.heading=t.maxHealth=t.armour=t.isPlayer=void 0;const i=n(111),r=["","PED","VEHICLE","PROP"],s=["UNKNOWN","RANDOM_PERMANENT","RANDOM_PARKED","RANDOM_PATROL","RANDOM_SCENARIO","RANDOM_AMBIENT","PERMANENT","MISSION","REPLAY","CACHE","TOOL"];t.isPlayer=({entityId:e})=>IsPedAPlayer(e),t.armour=({entityId:e})=>GetPedArmour(e),t.maxHealth=({entityId:e})=>GetPedMaxHealth(e),t.heading=({entityId:e})=>GetEntityHeading(e),t.health=({entityId:e})=>GetEntityHealth(e),t.modelHash=({entityId:e})=>GetEntityModel(e),t.causeOfDeath=({entityId:e})=>GetPedCauseOfDeath(e),t.populationType=({entityId:e})=>s[GetEntityPopulationType(e)],t.type=({entityId:e})=>r[GetEntityType(e)],t.numberPlate=({entityId:e})=>GetVehicleNumberPlateText(e),t.currentVehicle=({entityId:e})=>{const t=GetVehiclePedIsIn(e,!1);return t?{entityId:t}:null},t.lastVehicle=({entityId:e})=>{const t=GetVehiclePedIsIn(e,!0);return t?{entityId:t}:null},t.rotation=({entityId:e})=>{const[t,n,i]=GetEntityRotation(e);return{x:t,y:n,z:i}},t.coords=({entityId:e})=>{const[t,n,i]=GetEntityCoords(e);return{x:t,y:n,z:i}},t.session=({entityId:e})=>{if(IsPedAPlayer(e))return i.sessions().find((t=>GetPlayerPed(t.sessionId)===e))}},541:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.session=void 0;const i=n(111);t.session=({identifiers:e})=>i.sessions().find((t=>t.identifiers.find((t=>e.includes(t)))))},111:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sessions=t.objects=t.vehicles=t.peds=void 0;const i=n(284);t.peds=()=>GetAllPeds().map((e=>({entityId:e}))),t.vehicles=()=>GetAllVehicles().map((e=>({entityId:e}))),t.objects=()=>GetAllObjects().map((e=>({entityId:e}))),t.sessions=()=>{const e=GetNumPlayerIndices(),t=[];for(let n=0;n<e;n++){const e=GetPlayerFromIndex(n);e&&t.push({sessionId:e,identifiers:i.identifiers({sessionId:e})})}return t}},284:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.identifiers=t.tokens=t.cameraRotation=t.ped=t.endpoint=t.name=t.maxHealth=t.maxArmour=t.invincible=t.ping=void 0,t.ping=({sessionId:e})=>GetPlayerPing(e),t.invincible=({sessionId:e})=>GetPlayerInvincible(e),t.maxArmour=({sessionId:e})=>GetPlayerMaxArmour(e),t.maxHealth=({sessionId:e})=>GetPlayerMaxHealth(e),t.name=({sessionId:e})=>GetPlayerName(e),t.endpoint=({sessionId:e})=>GetPlayerEndpoint(e),t.ped=({sessionId:e})=>({entityId:GetPlayerPed(e)}),t.cameraRotation=({sessionId:e})=>{const[t,n,i]=GetPlayerCameraRotation(e);return{x:t,y:n,z:i}},t.tokens=({sessionId:e})=>{const t=GetNumPlayerTokens(e);let n=[];for(let i=0;i<t;i++)n.push(GetPlayerToken(e,i));return n},t.identifiers=({sessionId:e})=>{const t=GetNumPlayerIdentifiers(e);let n=[];for(let i=0;i<t;i++)n.push(GetPlayerIdentifier(e,i));return n}},553:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Player=t.Entity=t.Session=t.Query=void 0,t.Query=s(n(111)),t.Session=s(n(284)),t.Entity=s(n(76)),t.Player=s(n(541))},545:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(232),a=n(836),l=n(313),d=s(n(553)),u={},c={};let y=null,p=null;const h=(e,t,n)=>{u[e]=t,c[e]={},Object.keys(n).forEach((e=>Object.keys(n[e]).forEach((t=>((e,t,n,i)=>{c.graphql[t]||(c.graphql[t]={}),c.graphql[t][n]=(e,t)=>i(e,t)})(0,e,t,n[e][t]))))),(()=>{const e=a.mergeTypeDefs(Object.values(u)),t=a.mergeResolvers(Object.values(c));y=null,y=o.makeExecutableSchema({typeDefs:e,resolvers:t}),(async()=>{p&&await p.stop(),p=new o.ApolloServer({schema:y,debug:!1}),p.listen({port:8006})})()})()};h("graphql","type Session {\n    sessionId: String!\n    name: String!\n    ping: Int!\n    invincible: Boolean!\n    identifiers: [String]!\n    maxArmour: Float!\n    maxHealth: Float!\n    endpoint: String!\n    ped: Entity!\n    tokens: [String!]!\n    cameraRotation: Vector3!\n  }\n\n  type Player {\n    session: Session\n  }\n\n  type Entity {\n    entityId: Int!\n    isPlayer: Boolean!\n    armour: Float!\n    maxHealth: Float!\n    health: Float!\n    rotation: Vector3!\n    heading: Float!\n    coords: Vector3!\n    modelHash: String!\n    type: String!\n    populationType: String!\n    causeOfDeath: String\n    currentVehicle: Entity\n    lastVehicle: Entity\n    numberPlate: String!\n    session: Session\n  }\n\n  type Vector3 {\n    x: Float!\n    y: Float!\n    z: Float!\n  }\n\n  type Query {\n    sessions: [Session!]!\n    peds: [Entity!]!\n    vehicles: [Entity!]!\n    objects: [Entity!]!\n  }",d),global.exports("executeQuery",((e,t={},n)=>l.graphql(y,e,null,t).then((e=>{console.log(e),n(e)})))),global.exports("register",h)},836:e=>{e.exports=require("@graphql-tools/merge")},232:e=>{e.exports=require("apollo-server")},313:e=>{e.exports=require("graphql")}},t={};!function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}(545)})();